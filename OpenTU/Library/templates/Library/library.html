{% extends "OpenTU/header.html" %} {% block content %}

<style>
  .is-library-page {
    color: rgb(0, 0, 0);
    font-weight: 500;
  }

  .card {
    background-color: #fff;
    border-radius: 10px;
    border: none;
    position: relative;
    margin-bottom: 30px;
    box-shadow: 0 0.46875rem 2.1875rem rgba(90, 97, 105, 0.1),
      0 0.9375rem 1.40625rem rgba(90, 97, 105, 0.1),
      0 0.25rem 0.53125rem rgba(90, 97, 105, 0.12),
      0 0.125rem 0.1875rem rgba(90, 97, 105, 0.1);
  }

  .text-muted {
    color: #98a6ad !important;
  }
</style>

<div class="container pt-4 d-flex justify-content-center">
  <div class="row" style="width: 80%;">
    <h3 class="pb-2">Available Book</h3>
 
    {% for book in books %}
    <div class="col-lg-4 mb-4">
      <div class="card">
        <img
          src="{{ book.image.url }}"
          alt=""
          class="card-img-top image-fluid"
          style="max-height: 250px;"
        />
        <div class="card-body">
          <h5 class="card-title">{{ book.name }}</h5>
          <p class="card-text">
            Lorem ipsum dolor sit amet consectetur, adipisicing elit.
          </p>
          {% if book.is_available %}
          <a href="/borrow/{{ book.id }}" class="btn btn-outline-success btn-sm">Borrow this book</a>
          {% else %}
          <p class="text-muted">This book is not available.</p>
          {% endif %}
        </div>
      </div>
    </div>
    {% endfor %}

  </div>

</div>

<div class="container d-flex justify-content-center">
  <div class="row" style="width: 80%;">
    <h3 class="pb-2">Study Room</h3>

    {% for room in rooms %}
    <div class="col-lg-4 mb-4">
      <div class="card">
        <img
          src="{{ room.image.url }}"
          alt=""
          class="card-img-top image-fluid"
          style="height: 250px;"
        />
        <div class="card-body">
          <h5 class="card-title">{{ room.name }}</h5>
          <p class="card-text">
            Lorem ipsum dolor sit amet consectetur, adipisicing elit.
          </p>
          {% if room.is_available %}
          <a href="/room_booking/{{ room.id }}" class="btn btn-outline-success btn-sm">Book this room</a>
          {% else %}
          <p class="text-muted">This room is not available.</p>
          {% endif %}
        </div>
      </div>
    </div>
    {% endfor %}

  </div>

</div>

<div class="container d-flex justify-content-center">
  <div class="row" style="width: 80%;">
    <h3 class="pb-2">Your Booking History</h3>

    {% for h in history %}
    <div class="col-lg-4 mb-4">
      <div class="card">
        <img
          src="{{ h.image.url }}"
          alt=""
          class="card-img-top image-fluid"
          style="height: 250px;"
        />
        <div class="card-body">
          <h5 class="card-title">{{ h.name }}</h5>

            <span class="text-muted">Create : {{ h.create_date }}</span></br>
            <span class="text-muted">{{ h.info }}</span>

          {% if h.is_active %}
          <p class="text-muted">Status : <span class="text-success">Active</span></p>
          {% else %}
          <p class="text-muted">Status : <span class="text-warning">Closed</span></p>
          {% endif %}
        </div>
      </div>
    </div>
    {% endfor %}

  </div>

</div>

{% endblock %}
